#include <stdio.h>
#include <sys/ipc.h>
#include <sys/msg.h>
#include <string.h>
#include <unistd.h>

#include "pipe-common.h"
#include "pipe-message.h"


int pipe_read(int fd){
  pipe_message_t message;
   if(read(fd, &message, sizeof(message)) == -1){
      return -1;
   }
   pipe_message_print(message, "read");
  return 0;
}

int pipe_write(int fd, pipe_message_t message){
  if(write(fd, &message, sizeof(message)) == -1){
    return -1;
  }
  pipe_message_print(message, "written");
  return 0;
}
